# 鉴权限流数据结构算法

## 鉴权
### 精确匹配规则
可以采用散列表来存储这种对应关系

规则不会经常变动，所以，为了加快匹配速度，我们可以按照字符串的大小给规则排序，
把它组织成有序数组这种数据结构。当要查找某个 URL 能否匹配其中某条规则的时候，
我们可以采用二分查找算法，在有序数组中进行匹配。
二分查找算法的时间复杂度是 O(logn)（n 表示规则的个数），
这比起时间复杂度是 O(n) 的顺序遍历快了很多。

字符串匹配算法（比如 KMP、BM、BF 等）

### 前缀匹配规则
可以采用散列表来存储这种对应关系

Trie 树非常适合用来做前缀匹配（复杂度O（k) k:字符串长度，空间换时间）

Trie 树中的每个节点不是存储单个字符，而是存储接口被“/”分割之后的子目录（比如“/user/name”被分割为“user”“name”两个子目录）

可以把每个节点的子节点们，组织成有序数组这种数据结构。在匹配的过程中，我们可以利用二分查找算法，决定从一个节点应该跳到哪一个子节点。


### 模糊匹配规则
可以采用散列表来存储这种对应关系

先在不包含通配符的有序数组或者 Trie 树中查找。如果能够匹配，就不需要继续在通配符规则中匹配了；
如果不能匹配，就继续在通配符规则中查找匹配(回溯算法)。

## 限流
### 固定时间窗口限流算法
### 动时间窗口限流算法
循环队列
>tip:循环队列的大小等于限流次数加一，因为循环队列存储数据时会浪费一个存储单元。

## 参考
* [**数据结构与算法之美**](http://gk.link/a/10p9l)