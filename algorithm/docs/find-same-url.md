# 如何从大量url中找出相同url

## 描述
给定a、b两个文件，各存放50亿个url，每个url各占64个字节，内存限制是4G，请找出a、b两个文件中共同的url。

## 解答
###分治法
由于每个url需要占64个字节，所以50亿个url占用空间的大小为50亿×64=5G×64=320G字节。
由于内存大小只有4G，因此不可能一次性把所有的url都加载到内存中处理。
采用分治法，即把一个文件中的url按照某一特征分成多个文件，使得每个文件的内容都小于2G，
这样就可以把这个文件一次性读到内存中进行处理了。本题中320G/2G=160,需要分成超过160份，
假定分成200份。那么具体实现步骤如下：

步骤
1. 遍历a,对遍历到的url求hash(url)%200,根据计算结果把遍历到url分别存为a0,a1,a2,...a199文件，
这样每个文件低于2G。
2. 遍历b,同步骤1，行成b0,b1,...b199文件。
3. 通过步骤1、2，与ai中相同的url一定在bi中。
遍历ai文件存入hash_set中（golang中没有set结构可使用map代替，
   或使用开源程序[golang-set](https://github.com/deckarep/golang-set) ,然后遍历bi的url,
   如果这个url在hash_set中存在，那么说明这个url是这两个文件的共同url,可以保存到另外一个单独文件中。
   从a、b的0到199文件全部遍历后得到最后的单独文件中的url就是两个文件中的共同url。
   

## 参考
* Go程序员面试算法宝典


