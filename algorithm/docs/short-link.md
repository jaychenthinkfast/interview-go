# 短网址系统数据结构算法

## 通过哈希算法生成短网址
采用计算速度快、冲突概率小的 MurmurHash 算法，并将计算得到的 10 进制数， 
转化成 62 进制表示法，进一步缩短短网址的长度。
>tip:MurmurHash 已经广泛应用到 Redis、MemCache、Cassandra、HBase、 Lucene 等众多著名的软件中

如果通过MySQL存储，会跟数据库打两次交道，也就是会执行两条 SQL 语句。
第一个 SQL 语句是通过短网址查询短网址与原始网址的对应关系，
第二个 SQL 语句是将新生成的短网址和原始网址之间的对应关系存储到数据库。

优化 SQL 语句次数可以把已经生成的短网址，构建成布隆过滤器。当有新的短网址生成的时候，我们先拿这个新生成的短网址，
在布隆过滤器中查找。如果查找的结果是不存在，那就说明这个新生成的短网址并没有冲突。
这个时候，我们只需要再执行写入短网址和对应原始网页的 SQL 语句就可以了。
>布隆过滤器是比较节省内存的一种存储结构，长度是 10 亿的布隆过滤器，也只需要 125MB 左右的内存空间。

## 通过 ID 生成器来生成短网址
维护一个 ID 自增的 ID 生成器，给每个原始网址分配一个 ID 号码，并且同样转成 62 进制表示法，
拼接到短网址服务的域名之后，形成最终的短网址。
## 参考
* [**数据结构与算法之美**](http://gk.link/a/10p9l)